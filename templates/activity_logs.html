<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Activity Logs | EventEdge Admin</title>

  <link rel="stylesheet" href="{{ url_for('static', filename='css/activity_logs.css') }}">
  <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@500;600&display=swap" rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='/favicon.ico') }}">

</head>

<body>

  <!-- Background Video -->
  <video autoplay muted loop id="myVideo">
    <source src="{{ url_for('static', filename='bg.mp4') }}" type="video/mp4">
  </video>

  <div class="overlay"></div>

  <!-- Logout -->
  <div class="logout-btn-container">
    <a href="{{ url_for('logout') }}" class="logout-btn">Logout</a>
  </div>

  <!-- Logs Container -->
  <div class="logs-container">

    <div class="logs-header">
      <h1>üìä Activity Logs</h1>
      <span class="live-indicator">
        <span class="dot"></span><h3>‚óè Live</h3> 
      </span>
    </div>

    <!-- Logs Wrapper -->
    <div id="logs-wrapper">

      {% if logs and logs|length > 0 %}
    {% for log in logs %}
      <div class="log-card">
        <span class="log-time">{{ log.display_time }}</span>
        <p>
          <strong>{{ log.user_email }}</strong>
          {{ log.action }}
        </p>
      </div>
    {% endfor %}
{% else %}
    <div class="no-logs">
      No activity recorded yet.
    </div>
{% endif %}


    </div>

  </div>

  <!-- Real-time polling (frontend placeholder) -->
  <script>
    // This will be connected to backend next
    // Placeholder for real-time updates
    // setInterval(fetchLogs, 3000);

    function fetchLogs() {
      // Future: fetch('/admin/activity-logs/live')
      // and update #logs-wrapper dynamically
    }
  </script>

</body>
</html>
